{"ast":null,"code":"var _jsxFileName = \"/home/dell/Documents/Market/src/components/pages/exploreGrey.js\",\n  _s = $RefreshSig$();\nimport React, { memo, useState, useEffect } from \"react\";\nimport ColumnNewRedux from \"../components/ColumnNewRedux\";\nimport Footer from \"../components/footer\";\nimport TopFilterBar from \"../components/TopFilterBar\";\n\n//*===================\nimport { GetOnSaleItems, GetSearchedNft } from \"../../apiServices\";\nimport { connect } from \"react-redux\";\nimport ipfsAPI from \"ipfs-api\";\n\n//*===================\n//IMPORT DYNAMIC STYLED COMPONENT\nimport { StyledHeader } from \"../Styles\";\n//SWITCH VARIABLE FOR PAGE STYLE\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst theme = \"GREY\"; //LIGHT, GREY, RETRO\n\nconst ipfs = ipfsAPI(\"ipfs.infura.io\", \"5001\", {\n  protocol: \"https\",\n  auth: \"21w11zfV67PHKlkAEYAZWoj2tsg:f2b73c626c9f1df9f698828420fa8439\"\n});\nconst Explore = props => {\n  _s();\n  const [height, setHeight] = React.useState(0);\n  const [items, setItems] = useState([]);\n  const [likeEvent, setLikeEvent] = useState(false);\n  const onImgLoad = _ref => {\n    let {\n      target: img\n    } = _ref;\n    let currentHeight = height;\n    if (currentHeight < img.offsetHeight) {\n      setHeight(img.offsetHeight);\n    }\n  };\n  useEffect(() => {\n    async function fetch() {\n      console.log(\"propss\", props);\n      let data;\n      let itemsOnSale = [];\n      if (!props.searchedData) {\n        var _props$exploreSaleTyp;\n        if (((_props$exploreSaleTyp = props.exploreSaleType) === null || _props$exploreSaleTyp === void 0 ? void 0 : _props$exploreSaleTyp.exploreSaleType) === -1) {\n          data = {\n            page: 1,\n            limit: 15,\n            conditions: {\n              oStatus: 1\n            }\n          };\n        } else {\n          data = {\n            page: 1,\n            limit: 15,\n            conditions: {\n              oStatus: 1,\n              // oType: props.exploreSaleType?.exploreSaleType,\n              oType: 1\n            }\n          };\n        }\n        itemsOnSale = await GetOnSaleItems(data);\n        if (props.nftType !== -1) itemsOnSale.results[0] = itemsOnSale.results[0].filter(item => {\n          return item.nType === props.nftType;\n        });\n      } else {\n        let reqParams = {\n          length: 48,\n          start: 0,\n          sTextsearch: props.searchedData,\n          sSellingType: \"\",\n          sSortingType: \"\",\n          page: 1,\n          limit: 10\n        };\n        itemsOnSale = await GetSearchedNft(reqParams);\n      }\n      console.log(\"itemsOnSale\", itemsOnSale);\n      let localRes = [];\n      for (let i = 0; i < ((_itemsOnSale = itemsOnSale) === null || _itemsOnSale === void 0 ? void 0 : (_itemsOnSale$results$ = _itemsOnSale.results[0]) === null || _itemsOnSale$results$ === void 0 ? void 0 : _itemsOnSale$results$.length); i++) {\n        var _itemsOnSale, _itemsOnSale$results$;\n        console.log(\"resssss111\", itemsOnSale.results[0][i].nHash);\n        let res = await ipfs.cat(itemsOnSale.results[0][i].nHash);\n        localRes[i] = res;\n        console.log(\"resssss\", res);\n        console.log(\"File content >> \", JSON.parse(res.toString(\"utf8\")));\n        console.log(\"res----->>\", res);\n      }\n      for (let i = 0; i < ((_itemsOnSale2 = itemsOnSale) === null || _itemsOnSale2 === void 0 ? void 0 : (_itemsOnSale2$results = _itemsOnSale2.results[0]) === null || _itemsOnSale2$results === void 0 ? void 0 : _itemsOnSale2$results.length); i++) {\n        var _itemsOnSale2, _itemsOnSale2$results;\n        itemsOnSale.results[0][i].imageHash = JSON.parse(localRes[i].toString(\"utf8\")).image;\n      }\n      setItems(itemsOnSale && itemsOnSale.results ? itemsOnSale.results[0] : []);\n    }\n    fetch();\n  }, [props]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"greyscheme\",\n    children: [/*#__PURE__*/_jsxDEV(StyledHeader, {\n      theme: theme\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"jumbotron breadcumb no-bg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mainbreadcumb\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row m-10-hor\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12\",\n              children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-center\",\n                children: \"Explore\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-12\",\n          children: /*#__PURE__*/_jsxDEV(TopFilterBar, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ColumnNewRedux, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 5\n  }, this);\n};\n_s(Explore, \"MPxc8Db9Q8wewBkiW9dryGuxNXA=\");\n_c = Explore;\nconst mapStateToProps = state => {\n  return {\n    account: state.account,\n    token: state.token,\n    exploreSaleType: state.exploreSaleType\n  };\n};\nexport default connect(mapStateToProps)(Explore);\nvar _c;\n$RefreshReg$(_c, \"Explore\");","map":{"version":3,"names":["React","memo","useState","useEffect","ColumnNewRedux","Footer","TopFilterBar","GetOnSaleItems","GetSearchedNft","connect","ipfsAPI","StyledHeader","theme","ipfs","protocol","auth","Explore","props","height","setHeight","items","setItems","likeEvent","setLikeEvent","onImgLoad","target","img","currentHeight","offsetHeight","fetch","console","log","data","itemsOnSale","searchedData","exploreSaleType","page","limit","conditions","oStatus","oType","nftType","results","filter","item","nType","reqParams","length","start","sTextsearch","sSellingType","sSortingType","localRes","i","nHash","res","cat","JSON","parse","toString","imageHash","image","mapStateToProps","state","account","token"],"sources":["/home/dell/Documents/Market/src/components/pages/exploreGrey.js"],"sourcesContent":["import React, { memo, useState, useEffect } from \"react\";\nimport ColumnNewRedux from \"../components/ColumnNewRedux\";\nimport Footer from \"../components/footer\";\nimport TopFilterBar from \"../components/TopFilterBar\";\n\n//*===================\nimport { GetOnSaleItems, GetSearchedNft } from \"../../apiServices\";\nimport { connect } from \"react-redux\";\nimport ipfsAPI from \"ipfs-api\";\n\n//*===================\n//IMPORT DYNAMIC STYLED COMPONENT\nimport { StyledHeader } from \"../Styles\";\n//SWITCH VARIABLE FOR PAGE STYLE\nconst theme = \"GREY\"; //LIGHT, GREY, RETRO\n\nconst ipfs = ipfsAPI(\"ipfs.infura.io\", \"5001\", {\n  protocol: \"https\",\n  auth: \"21w11zfV67PHKlkAEYAZWoj2tsg:f2b73c626c9f1df9f698828420fa8439\",\n});\n\nconst Explore = (props) => {\n  const [height, setHeight] = React.useState(0);\n  const [items, setItems] = useState([]);\n  const [likeEvent, setLikeEvent] = useState(false);\n  const onImgLoad = ({ target: img }) => {\n    let currentHeight = height;\n    if (currentHeight < img.offsetHeight) {\n      setHeight(img.offsetHeight);\n    }\n  };\n\n  useEffect(() => {\n    async function fetch() {\n      console.log(\"propss\", props);\n      let data;\n      let itemsOnSale = [];\n\n      if (!props.searchedData) {\n        if (props.exploreSaleType?.exploreSaleType === -1) {\n          data = {\n            page: 1,\n            limit: 15,\n            conditions: {\n              oStatus: 1,\n            },\n          };\n        } else {\n          data = {\n            page: 1,\n            limit: 15,\n            conditions: {\n              oStatus: 1,\n              // oType: props.exploreSaleType?.exploreSaleType,\n              oType: 1,\n            },\n          };\n        }\n        itemsOnSale = await GetOnSaleItems(data);\n\n        if (props.nftType !== -1)\n          itemsOnSale.results[0] = itemsOnSale.results[0].filter((item) => {\n            return item.nType === props.nftType;\n          });\n      } else {\n        let reqParams = {\n          length: 48,\n          start: 0,\n          sTextsearch: props.searchedData,\n          sSellingType: \"\",\n          sSortingType: \"\",\n          page: 1,\n          limit: 10,\n        };\n        itemsOnSale = await GetSearchedNft(reqParams);\n      }\n      console.log(\"itemsOnSale\", itemsOnSale);\n      let localRes = [];\n      for (let i = 0; i < itemsOnSale?.results[0]?.length; i++) {\n        console.log(\"resssss111\", itemsOnSale.results[0][i].nHash);\n        let res = await ipfs.cat(itemsOnSale.results[0][i].nHash);\n        localRes[i] = res;\n        console.log(\"resssss\", res);\n        console.log(\"File content >> \", JSON.parse(res.toString(\"utf8\")));\n        console.log(\"res----->>\", res);\n      }\n\n      for (let i = 0; i < itemsOnSale?.results[0]?.length; i++) {\n        itemsOnSale.results[0][i].imageHash = JSON.parse(\n          localRes[i].toString(\"utf8\")\n        ).image;\n      }\n\n      setItems(\n        itemsOnSale && itemsOnSale.results ? itemsOnSale.results[0] : []\n      );\n    }\n\n    fetch();\n  }, [props]);\n  return (\n    <div className=\"greyscheme\">\n      <StyledHeader theme={theme} />\n      <section className=\"jumbotron breadcumb no-bg\">\n        <div className=\"mainbreadcumb\">\n          <div className=\"container\">\n            <div className=\"row m-10-hor\">\n              <div className=\"col-12\">\n                <h1 className=\"text-center\">Explore</h1>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      <section className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-lg-12\">\n            <TopFilterBar />\n          </div>\n        </div>\n        <ColumnNewRedux />\n      </section>\n\n      <Footer />\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    account: state.account,\n    token: state.token,\n    exploreSaleType: state.exploreSaleType,\n  };\n};\nexport default connect(mapStateToProps)(Explore);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}